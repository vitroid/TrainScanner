2025-08-24

- Windows でやたら落ちる原因
- 終了判定を、dropframe と同じ手法で行う。
- 全体図表現の最適化。スキップフレームの自動処理

- DEVELOP: 一致度の時系列をみて、速度検知方法を考える。
  まず、一致度グラフは放物線的ではないので、放物線でフィットできると考えるのは正しくない。
  - leading
    - origin のピーク以外に prominent ピークが生じるまでは、全比較し、一致度を全部保管する。
    - 速度が確定してから、保管した部分を逆検索し、変位ピークが origin のピークに負けても、ピークがあるうちは追跡する。
    - この処理をしやすいように、一致度配列を生成する部分と、ずれ量を計算する部分を分離する。
  - trailing
    - 速度位置のピークと平行して、原点付近(こちらも手ぶれはありうるので、幅をもたせる)のピークも監視する。
    - origin 付近のピークに負けるようになって、それが N 回続いたら取り込みを打ち切る。
